# RuslanAI Web Interface

Данная документация описывает процесс настройки, запуска и использования веб-интерфейса системы RuslanAI.

## Содержание

1. [Обзор системы](#обзор-системы)
2. [Системные требования](#системные-требования)
3. [Быстрый запуск](#быстрый-запуск)
4. [Установка и настройка](#установка-и-настройка)
5. [Запуск системы](#запуск-системы)
6. [Работа с веб-интерфейсом](#работа-с-веб-интерфейсом)
7. [Устранение неполадок](#устранение-неполадок)
8. [Диагностика и исправление](#диагностика-и-исправление)
9. [Структура директорий](#структура-директорий)

## Обзор системы

RuslanAI представляет собой интеллектуальную систему с веб-интерфейсом и центральным оркестратором, обеспечивающую обработку запросов, взаимодействие с пользователем и выполнение разнообразных задач. Ключевыми компонентами системы являются:

- **Веб-интерфейс** - интерактивный интерфейс пользователя, работающий в браузере
- **WebSocket мост** - обеспечивает коммуникацию между веб-интерфейсом и системой памяти
- **API сервер** - обрабатывает HTTP запросы от веб-интерфейса
- **Центральный оркестратор** - координирует работу всех компонентов и обрабатывает задачи
- **Система памяти** - хранит историю взаимодействия и данные для обработки

## Системные требования

- **Операционная система**: Windows 10/11
- **Python**: 3.8 или выше
- **Node.js**: 16.x или выше
- **npm**: 8.x или выше
- **Порты**: 3000, 5173, 8001, 8005 должны быть свободны
- **Дисковое пространство**: минимум 1 ГБ свободного места
- **Оперативная память**: минимум 4 ГБ

## Быстрый запуск

Для быстрого запуска системы выполните следующие шаги:

1. Запустите скрипт диагностики и исправления:
   ```
   python C:\RuslanAI\scripts\diagnose_and_fix.py
   ```

2. Используйте созданный на рабочем столе ярлык "RuslanAI" или выполните:
   ```
   powershell -ExecutionPolicy Bypass -File C:\RuslanAI\scripts\complete_startup.ps1
   ```

3. Откройте веб-интерфейс по адресу: http://localhost:3000 или http://localhost:5173

## Установка и настройка

### Установка Node.js и npm

1. Скачайте и установите Node.js с официального сайта: https://nodejs.org/
2. Проверьте установку:
   ```
   node --version
   npm --version
   ```

### Настройка системы

1. Убедитесь, что директория `C:\RuslanAI` существует и содержит необходимые поддиректории
2. Запустите скрипт диагностики для проверки и исправления конфигурации:
   ```
   python C:\RuslanAI\scripts\diagnose_and_fix.py
   ```
3. Создайте ярлык на рабочем столе для удобного запуска:
   ```
   powershell -ExecutionPolicy Bypass -File C:\RuslanAI\scripts\create_desktop_shortcut.ps1
   ```

## Запуск системы

### Автоматический запуск всех компонентов

Используйте созданный на рабочем столе ярлык "RuslanAI" или выполните:
```
powershell -ExecutionPolicy Bypass -File C:\RuslanAI\scripts\complete_startup.ps1
```

Скрипт выполнит следующие действия:
1. Остановит процессы на используемых портах
2. Исправит проблемы с кодировками в файлах памяти
3. Запустит WebSocket мост на порту 8005
4. Запустит API сервер на порту 8001
5. Настроит и запустит веб-интерфейс на порту 3000 или 5173
6. Откроет браузер с веб-интерфейсом

### Ручной запуск отдельных компонентов

Для ручного запуска компонентов выполните следующие команды:

#### WebSocket мост:
```
cd C:\RuslanAI\scripts
python fixed_direct_bridge.py
```

#### API сервер:
```
cd C:\RuslanAI\scripts
python fixed_api_server.py
```

#### Веб-интерфейс:
```
cd C:\RuslanAI\scripts
python frontend_runner_fixed.py
```

## Работа с веб-интерфейсом

### Основные функции

Веб-интерфейс RuslanAI предоставляет следующие возможности:

1. **Чат с системой** - отправка запросов и получение ответов
2. **Выполнение задач** - запуск и мониторинг различных типов задач
3. **Просмотр истории** - доступ к предыдущим сессиям и результатам
4. **Уведомления** - получение уведомлений о завершении задач

### Отправка запросов

1. Откройте веб-интерфейс по адресу http://localhost:3000 или http://localhost:5173
2. В поле ввода введите ваш запрос с использованием кириллицы
3. Нажмите кнопку отправки или клавишу Enter
4. Дождитесь ответа системы

### Работа с уведомлениями

Система отправляет уведомления о различных событиях:
- Начало выполнения задачи
- Завершение задачи
- Ошибки при выполнении

Все уведомления отображаются в специальной панели в веб-интерфейсе.

## Устранение неполадок

При возникновении проблем с системой обратитесь к документу [TROUBLESHOOTING.md](./TROUBLESHOOTING.md), который содержит подробные инструкции по диагностике и устранению распространенных проблем.

### Типичные проблемы:

1. **Не запускается веб-интерфейс**
   - Проверьте, установлены ли Node.js и npm
   - Убедитесь, что порты 3000 и 5173 свободны
   - Проверьте логи запуска

2. **Не работает WebSocket соединение**
   - Убедитесь, что WebSocket мост запущен на порту 8005
   - Проверьте конфигурацию WebSocket в файле `C:\RuslanAI\web_ui\src\services\websocketService.js`
   - Просмотрите логи моста в `C:\RuslanAI\logs\fixed_bridge.log`

3. **Проблемы с отображением кириллицы**
   - Запустите скрипт диагностики и исправления
   - Убедитесь, что все файлы сохранены в кодировке UTF-8 без BOM

## Диагностика и исправление

Система включает автоматический инструмент диагностики и исправления проблем:

```
python C:\RuslanAI\scripts\diagnose_and_fix.py
```

Скрипт выполняет следующие проверки и исправления:

1. Проверка структуры директорий
2. Проверка наличия ключевых файлов
3. Исправление проблем с кодировками в Python файлах
4. Исправление проблем с JSON файлами в системе памяти
5. Проверка и исправление конфигурации WebSocket
6. Проверка доступности портов
7. Создание ярлыка для запуска системы

После выполнения скрипт выводит подробный отчет о найденных и исправленных проблемах.

## Структура директорий

Система RuslanAI имеет следующую структуру директорий:

```
C:\RuslanAI\
├── scripts\                    # Скрипты для запуска и управления системой
│   ├── complete_startup.ps1    # Полный скрипт запуска системы
│   ├── diagnose_and_fix.py     # Скрипт диагностики и исправления
│   ├── fixed_direct_bridge.py  # WebSocket мост
│   ├── fixed_api_server.py     # API сервер
│   ├── frontend_runner_fixed.py # Запуск веб-интерфейса
│   └── ...
├── web_ui\                     # Веб-интерфейс
│   ├── package.json            # Конфигурация npm
│   ├── src\                    # Исходный код интерфейса
│   │   ├── services\           # Сервисы для работы с API и WebSocket
│   │   └── ...
│   └── ...
├── central_agent\              # Центральный агент
│   ├── orchestrator\           # Оркестратор
│   │   ├── central_orchestrator.py # Центральный оркестратор
│   │   └── ...
│   └── modules\                # Модули
│       ├── memory\             # Система памяти
│       │   ├── memory_system.py # Система памяти
│       │   └── ...
│       └── ...
├── data\                       # Данные
│   ├── memory\                 # Файлы памяти
│   │   ├── detail\             # Детальная память
│   │   ├── context\            # Контекстная память
│   │   └── summary\            # Суммарная память
│   └── ...
└── logs\                       # Логи системы
    ├── fixed_bridge.log        # Логи WebSocket моста
    ├── api_server.log          # Логи API сервера
    └── ...
```

---

© 2025 RuslanAI. Все права защищены.