# RuslanAI Web UI

Это веб-интерфейс для системы RuslanAI, обеспечивающий взаимодействие с центральным агентом через WebSocket и HTTP API.

## Функциональность

- Чат с AI-агентом и обработка ответов
- Загрузка и отправка файлов
- Запись и транскрипция аудио
- Отслеживание статуса задач и прогресса
- Отображение истории взаимодействий
- Автоматическое переподключение WebSocket
- Кеширование сообщений при отсутствии соединения

## Установка

1. Убедитесь, что у вас установлены Node.js и npm
2. Клонируйте репозиторий
3. Установите зависимости:

```bash
cd web_ui
npm install
```

## Запуск

### Запуск веб-интерфейса

```bash
npm run dev
```

Веб-интерфейс будет доступен по адресу: http://localhost:3000

### Запуск API сервера

API сервер должен быть запущен отдельно:

```bash
cd central_agent/backend
python encoding_fixed_api.py
```

API сервер будет доступен по адресу: http://localhost:8001

## Использование скриптов запуска

В директории `/scripts` есть PowerShell скрипты для автоматического запуска:

- `start_web_ui.ps1` - запускает только веб-интерфейс
- `start_api_server.ps1` - запускает только API сервер
- `start_ruslanai.ps1` - запускает и веб-интерфейс, и API сервер одновременно

Пример запуска полной системы:

```powershell
cd C:\RuslanAI\scripts
.\start_ruslanai.ps1
```

## Структура проекта

- `src/` - исходный код
  - `components/` - React компоненты
  - `services/` - сервисы для WebSocket и API
  - `hooks/` - React хуки
  - `App.jsx` - корневой компонент
  - `main.jsx` - точка входа
  - `index.css` - глобальные стили

## Устранение неполадок

### WebSocket соединение

Если WebSocket соединение не устанавливается, проверьте:

1. Запущен ли API сервер (должен быть доступен по адресу http://localhost:8001)
2. Нет ли блокировок в брандмауэре или антивирусе
3. В консоли браузера нет ли ошибок CORS или сетевых ошибок

Для ручного переподключения используйте кнопку "Переподключиться" в интерфейсе.

### Проблемы с React

Если веб-интерфейс не запускается из-за ошибок React, выполните:

```powershell
cd C:\RuslanAI\scripts
.\fix_react_imports.ps1
```

Этот скрипт исправит проблемы с дублирующимися импортами React.